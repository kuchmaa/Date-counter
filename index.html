<!DOCTYPE html>
<html lang="en">

<script>
    var host;
    if (location.host == "shunpocode.github.io") {
        host = "/Date-counter";      
    } else {
        host = "";
    }
    const html = document.querySelector('html');
    if (document.cookie.includes("lang")) {
        var lang = document.cookie.split(";");
        for (let i = 0; i < lang.length; i++) {
            if (lang[i].includes("lang")) {
                lang = lang[i].split("=")[1];
            }
        }
        if (html.lang != lang) {
            location.href = `${host}/${lang}`
        }
    }
    function changeLang(lang) {
        document.cookie = `lang=${lang}; path=${host}/`;
        if (lang != 'en') {
            location.href = `${host}/${lang}`;
        } else {
            location.href = `${host}/`;
        }
    }
</script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counter</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Xanh+Mono:ital@0;1&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/main.css">
    <script type="module" src="./js/main.js" defer></script>
    <link rel="manifest" href="./js/App/manifest.json">
    <meta name="theme-color" content="">
	<meta name="apple-mobile-web-app-status-bar-style" content="">
    <meta name="mobile-web-app-capable" content="yes">
</head>

<body>
    <script>
        
        if (document.cookie.includes("theme")) {
            if (document.cookie.includes("dark")) {
                document.body.setAttribute("theme", "dark");
                document.querySelector('[name=theme-color]').content = "#000"
                document.querySelector('[name=apple-mobile-web-app-status-bar-style').content = "#000"         
            } else if (document.cookie.includes("light")) {
                console.log('33');
                document.body.setAttribute("theme", "light");
                document.querySelector('[name=theme-color]').content = "#fff"
                document.querySelector('[name=apple-mobile-web-app-status-bar-style').content = "#fff"
            }
        } else {
            const bgColor = window.getComputedStyle(document.body).getPropertyValue("background-color");
            document.querySelector('[name=theme-color]').content = bgColor;
            document.querySelector('[name=apple-mobile-web-app-status-bar-style').content = bgColor;
        }
    </script>
    <header class="flex">
        <div>
            <a href="javascript: changeLang('ru')" style="margin-right: 10px;">ru</a>
            <a href="javascript: changeLang('en')">en</a>
        </div>
        <div>
            <button id="theme-l" focus>Light</button>
            <button id="theme-d" focus>Dark</button>
        </div>
        <div id="changeCountdowns">
            <button bg="off" class="flex" id="counts-btn" focus>
                <span>Select countdown</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path stroke="var(--color)" opacity="0.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m6 9 6 6 6-6"></path>
                </svg>
            </button>
            <div class="flex dropdown" id="counts-menu">
                <button class="flex" id="end-year" bg="off" border="none">
                    New Year
                </button>
                <button  class="flex" id="anya-brd" bg="off" border="none">Anya Birthday</button>
                <button class="flex" id="v_rising" bg="off" border="none">
                    V Rising
                </button>
                <button  class="flex"id="stalker_2" bg="off" border="none">S.T.A.L.K.E.R. 2: Heart of Chornobyl</button>
            </div>
        </div>  
        
        <!-- <option class="option" value=""></option>
        <option class="option" value="v_rising">V Rising</option>
        <option class="option" value="stalker_2">S.T.A.L.K.E.R. 2: Heart of Chornobyl</option> -->

    </header>
    
    <section class="flex center">
        <h3 id="countdown_label" class="flex">
            <div id="skeleton__countName" class="skeleton"></div>
            <span class="flex"></span>
        </h3>
        <div id="countdown">
            <div class="flex countdown_stackpanel">
                <div class="flex counter-block">
                    <div class="skeleton"></div>
                    <span class="counter" id="days">000</span>
                    <span class="count_name">Days</span>
                </div>
                <span class="counter dots"><span class="dot">:</span></span>
                <div class="flex counter-block">
                    <div class="skeleton test"></div>
                    <span class="counter" id="hours">00</span>
                    <span class="count_name">Hours</span>
                </div>
                    <span class="counter dots"><span class="dot">:</span></span>

                <div class="flex counter-block">
                    <div class="skeleton test"></div>
                    <span class="counter" id="minutes">00</span>
                    <span class="count_name">Minutes</span>
                </div>
                    <span class="counter dots"><span class="dot">:</span></span>
                <div class="flex counter-block">
                    <div class="skeleton test"></div>
                    <span class="counter" id="seconds">00</span>
                    <span class="count_name">Seconds</span>
                </div>
            </div>
        </div>
    </section>
</body>
</html>